<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${recipe.name} + ' â€” Recipe Hub'">Recipe Details</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/style.css}">
</head>
<body style="background-color: var(--light-tan);">

<div th:replace="~{fragments/navbar :: navbar}"></div>

<div class="container my-5">
    <div class="bg-white p-4 p-md-5 rounded shadow-sm">

        <div class="recipe-title-container">
            <h1 class="recipe-title" th:text="${recipe.name}">Recipe Title</h1>
        </div>

        <div class="text-center my-4">
            <img th:if="${presignedImageUrl}" th:src="${presignedImageUrl}"
                 class="img-fluid rounded recipe-main-image" alt="Recipe Image">

            <img th:if="${presignedImageUrl == null and recipe.imageUrl != null}" th:src="${recipe.imageUrl}"
                 class="img-fluid rounded recipe-main-image" alt="Recipe Image">
        </div>

        <div class="row g-5 mt-4">
            <div class="col-lg-4">
                <h3 class="content-heading">Ingredients</h3>
                <ul class="ingredients-checklist">
                    <li th:each="ing : ${recipe.recipeIngredients}">
                        <span class="measurement" th:text="${ing.measurement}">Measurement</span>
                        <span th:text="${ing.ingredient.name}">Ingredient Name</span>
                    </li>
                </ul>

                <div th:if="${recipe.nutritionInfo}"
                     th:replace="~{fragments/nutrition-label :: nutritionLabel(nutrition=${recipe.nutritionInfo})}">
                </div>
            </div>

            <div class="col-lg-8">
                <h3 class="content-heading">Instructions</h3>
                <ol class="instructions-list">
                    <li th:each="step : ${instructionSteps}" th:if="${!step.isBlank()}" th:text="${step}">
                        Instruction step text.
                    </li>
                </ol>
            </div>
        </div>
    </div>
</div>


<div class="share-fab-container">
    <div class="share-fab">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-share-fill" viewBox="0 0 16 16">
            <path d="M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"/>
        </svg>
    </div>
    <ul class="share-fab-options">
        <li>
            <a th:href="|https://twitter.com/intent/tweet?url=@{/recipes/{id}(id=${recipe.id})}&text=${recipe.name}|"
               class="share-btn-1 x" aria-label="Share on X" target="_blank" rel="noopener noreferrer">
                <svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
            </a>
        </li>
        <li>
            <a th:href="|https://www.facebook.com/sharer/sharer.php?u=@{/recipes/{id}(id=${recipe.id})}|"
               class="share-btn-1 facebook" aria-label="Share on Facebook" target="_blank" rel="noopener noreferrer">
                <svg viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5V12h3.642L18 8h-4V6.333c0-.953.375-1.333 1.118-1.333h2.882V1H16c-3.86 0-5 2.222-5 5v2z"/></svg>
            </a>
        </li>
        <li>
            <a th:href="|https://api.whatsapp.com/send?text=${recipe.name} @{/recipes/{id}(id=${recipe.id})}|"
               class="share-btn-1 whatsapp" aria-label="Share on WhatsApp" target="_blank" rel="noopener noreferrer">
                <svg viewBox="0 0 24 24"><path d="M20.1 3.9C17.9 1.7 15 .5 12 .5 5.8.5.7 5.6.7 11.9c0 2 .5 3.9 1.5 5.6L.6 23.4l6.1-1.6c1.6.9 3.5 1.5 5.3 1.5h.1c6.3 0 11.4-5.1 11.4-11.4-.1-2.8-1.2-5.7-3.3-7.8zM12 21.4c-1.7 0-3.3-.5-4.8-1.3l-.4-.2-3.5.9.9-3.4-.2-.4c-.8-1.4-1.2-3-1.2-4.6 0-5.2 4.2-9.4 9.4-9.4 2.5 0 4.9 1 6.7 2.8 1.8 1.8 2.8 4.2 2.8 6.7-.1 5.2-4.3 9.4-9.4 9.4zm5.1-7.1c-.3-.1-1.7-.9-1.9-1-.2-.1-.4-.1-.6.1-.2.2-.8 1-.9 1.1-.1.2-.2.2-.4.1-.6-.2-1.2-.5-2.2-1.3-.8-.6-1.3-1.4-1.5-1.6-.2-.2 0-.4.1-.5.1-.1.2-.2.4-.4.1-.1.2-.2.2-.4.1-.1.1-.3 0-.4-.1-.1-.6-1.4-.8-1.9-.2-.5-.4-.4-.6-.4h-.6c-.2 0-.5.1-.7.3-.2.2-.8.8-.8 1.9s.8 2.2.9 2.4c.1.2 1.7 2.5 4 3.5.5.2.9.3 1.2.5.3.2.6.1.8.1.2-.1.5-.3.7-.5.2-.2.2-.4.1-.5z"/></svg>
            </a>
        </li>
    </ul>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>